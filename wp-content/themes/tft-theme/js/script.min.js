(()=>{var A={defaultTabId:null,onShow:()=>{}},b=class{_accordionEl;_items;_activeTab;_options;_initialized;constructor(e=null,t=[],i=A){this._accordionEl=e,this._items=t,this._activeTab=i?this.getTab(i.defaultTabId):null,this._options={...A,...i},this._initialized=!1,this.init()}init(){if(this._items.length&&!this._initialized){this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(i=>{i.triggerEl.addEventListener("click",()=>{this.show(i.id)})});let e=this._accordionEl.querySelector("[data-tabs-next]"),t=this._accordionEl.querySelector("[data-tabs-prev]");e.addEventListener("click",()=>{let i=this.getVisibleItems(),s=i.findIndex(o=>o.id===this._activeTab.id),a=s===i.length-1?0:s+1;this.show(i[a].id)}),t.addEventListener("click",()=>{let i=this.getVisibleItems(),s=i.findIndex(o=>o.id===this._activeTab.id),a=s===0?i.length-1:s-1;this.show(i[a].id)})}}destroy(){this._initialized&&(this._initialized=!1)}removeInstance(){this.destroy()}destroyAndRemoveInstance(){this.destroy(),this.removeInstance()}getActiveTab(){return this._activeTab}setActiveTab(e){this._activeTab=e}getTab(e){return this._items.filter(t=>t.id===e)[0]}getVisibleItems(){let e=[];return this._items.forEach(t=>{t.triggerEl.getAttribute("style")||e.push(t)}),e}show(e,t=!1){let i=this.getTab(e);i===this._activeTab&&!t||(this._items.map(s=>{s!==i&&(s.targetEl.classList.add("hidden"),s.triggerEl.setAttribute("aria-selected","false"))}),i.triggerEl.setAttribute("aria-selected","true"),i.targetEl.classList.remove("hidden"),this.setActiveTab(i),this._options.onShow(this,i))}},T=()=>{document.querySelectorAll("[data-tabs-toggle]").forEach(n=>{let e=[],t=null;n.querySelectorAll('[role="tab"]').forEach(i=>{let s=i.getAttribute("aria-selected")==="true",a={id:i.getAttribute("data-tabs-target"),triggerEl:i,targetEl:document.querySelector(i.getAttribute("data-tabs-target"))};e.push(a),s&&(t=a.id)}),new b(n,e,{defaultTabId:t})})};var h={alwaysOpen:!1,activeClasses:"active",inactiveClasses:"inactive",onOpen:()=>{},onClose:()=>{},onToggle:()=>{}},g=class{_instanceId;_accordionEl;_items;_options;_clickHandler;_initialized;constructor(e=null,t=[],i=h){this._accordionEl=e,this._items=t,this._options={...h,...i},this._initialized=!1,this.init()}init(){this._items.length&&!this._initialized&&(this._items.forEach(e=>{e.active&&this.open(e.id);let t=()=>{this.toggle(e.id)};e.triggerEl.addEventListener("click",t),e.clickHandler=t}),this._initialized=!0)}destroy(){this._items.length&&this._initialized&&(this._items.forEach(e=>{e.triggerEl.removeEventListener("click",e.clickHandler),delete e.clickHandler}),this._initialized=!1)}removeInstance(){}destroyAndRemoveInstance(){this.destroy(),this.removeInstance()}getItem(e){return this._items.filter(t=>t.id===e)[0]}open(e){let t=this.getItem(e);this._options.alwaysOpen||this._items.map(i=>{i!==t&&(i.triggerEl.classList.remove(...this._options.activeClasses.split(" ")),i.triggerEl.classList.add(...this._options.inactiveClasses.split(" ")),i.targetEl.classList.add("hidden"),i.triggerEl.setAttribute("aria-expanded","false"),i.active=!1,i.iconEl&&i.iconEl.classList.remove("rotate-180"))}),t.triggerEl.classList.add(...this._options.activeClasses.split(" ")),t.triggerEl.classList.remove(...this._options.inactiveClasses.split(" ")),t.triggerEl.setAttribute("aria-expanded","true"),t.targetEl.classList.remove("hidden"),t.active=!0,t.iconEl&&t.iconEl.classList.add("rotate-180"),console.log(this._options),this._options.onOpen(this,t)}toggle(e){let t=this.getItem(e);t.active?this.close(e):this.open(e),this._options.onToggle(this,t)}close(e){let t=this.getItem(e);t.triggerEl.classList.remove(...this._options.activeClasses.split(" ")),t.triggerEl.classList.add(...this._options.inactiveClasses.split(" ")),t.targetEl.classList.add("hidden"),t.triggerEl.setAttribute("aria-expanded","false"),t.active=!1,t.iconEl&&t.iconEl.classList.remove("rotate-180"),this._options.onClose(this,t)}},y=()=>{document.querySelectorAll("[data-accordion]").forEach(n=>{let e=n.getAttribute("data-accordion"),t=n.getAttribute("data-active-classes"),i=n.getAttribute("data-inactive-classes"),s=[];n.querySelectorAll("[data-accordion-target]").forEach(a=>{if(a.closest("[data-accordion]")===n){let o={id:a.getAttribute("data-accordion-target"),triggerEl:a,targetEl:document.querySelector(a.getAttribute("data-accordion-target")),iconEl:a.querySelector("[data-accordion-icon]"),active:a.getAttribute("aria-expanded")==="true"};s.push(o)}}),new g(n,s,{alwaysOpen:e==="open",activeClasses:t||h.activeClasses,inactiveClasses:i||h.inactiveClasses})})};var m=class{_form;_input;_cards;_tabPanels;_tabs;_nextArrow;_prevArrow;_initialized;_activeTabs;constructor(e,t){this._form=e,this._input=e.querySelector("input"),this._cards=document.querySelectorAll("#"+t+" [data-accordion]"),this._tabs=document.querySelectorAll('[data-tabs-toggle="#'+t+'"] [role="tab"]'),this._tabPanels=document.querySelectorAll("#"+t+' [role="tabpanel"]'),this._nextArrow=document.querySelector('[data-tabs-toggle="#'+t+'"] [data-tabs-next]'),this._prevArrow=document.querySelector('[data-tabs-toggle="#'+t+'"] [data-tabs-prev]'),this._activeTabs=[],this._initialized=!1,this.init()}init(){if(this._cards.length&&!this._initialized){let e=i=>{this.search(i.target.value)},t=i=>{this.submitForm(i)};this._form.addEventListener("submit",t),this._input.addEventListener("keyup",e),this._initialized=!0}}search(e){let t=e.toLowerCase();this._cards.forEach(i=>{let s=i.id.toLowerCase();i.classList.toggle("hidden",!s.includes(t))}),this.hideTabs(),this.setVisibleTab(),this.toggleArrows()}hideTabs(){for(let t=0;t<this._tabPanels.length;t++){let i=this._tabPanels[t].querySelectorAll("[data-accordion]").length,s=this._tabPanels[t].querySelectorAll(".hidden[data-accordion]").length,a=this._tabPanels[t].id,o=document.querySelector('[data-tabs-target="#'+a+'"]');i===s?o.style.display="none":o.removeAttribute("style")}let e=[];this._tabs.forEach(t=>{t.getAttribute("style")||e.push(t)}),this._activeTabs=e}setVisibleTab(){let e=!1;this._activeTabs.forEach(t=>{t.getAttribute("aria-selected")==="true"&&(e=!0)}),!e&&this._activeTabs.length>0&&this._activeTabs[0].click()}toggleArrows(){this._activeTabs.length<=1?(this._nextArrow.style.display="none",this._prevArrow.style.display="none"):(this._nextArrow.removeAttribute("style"),this._prevArrow.removeAttribute("style"))}submitForm(e){e.preventDefault(),e.stopPropagation(),this.search(this._input.value)}},E=()=>{let n=document.getElementById("symbols-spec-search");n&&new m(n,"symbols-specs-tab-content")};var p=class{_lastUpdateTimes={};_iconDown='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><path d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"/></svg>';_iconUp='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><path d="M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"/></svg>';constructor(){this.init()}init(){this.initializeWebSocket()}updateUI(e,t,i,s,a){let o=(r,l)=>{let d=new Date().getTime(),x=this._lastUpdateTimes[`${e}_${r}`]||0;if(d-x<1e3)return;let c=document.getElementById(`${e}_${r}`);if(!c)return;let v=parseFloat(c.innerText),f=isNaN(v)?0:v,u,_="";l>f?(u="color_green",_=this._iconUp):l<f&&(u="color_red",_=this._iconDown),c.innerText=l,c.className=u,c.nextElementSibling.innerHTML=_,this._lastUpdateTimes[`${e}_${r}`]=d};o("BID",t),o("ASK",i),o("SPREAD",s),o("PRICE",a)}initializeWebSocket(){let e=new WebSocket("ws://localhost:3000/ws");e.onmessage=t=>{let[i,s,a]=t.data.split(",");i=i.replace("_ecn","");let o=parseFloat(s).toFixed(5),r=parseFloat(a).toFixed(5),l=(parseFloat(a)-parseFloat(s)).toFixed(5),d=(parseFloat(l)+5).toFixed(5);this.updateUI(i,o,r,l,d)},e.onclose=()=>{setTimeout(this.initializeWebSocket,5e3)},e.onerror=function(t){console.error("WebSocket Error: ",t),e.close()}}},w=()=>{document.querySelector(".trade-section-upper")&&new p};document.addEventListener("DOMContentLoaded",function(){T(),y(),E(),w()});})();
